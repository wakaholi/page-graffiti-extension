(()=>{"use strict";console.log("page-graffiti-extension"),document.addEventListener("keydown",(e=>{if("d"!==e.key||!e.ctrlKey)return;if(1===document.getElementsByClassName("pge-draw-area").length)return void document.getElementsByClassName("pge-draw-area")[0].remove();const t=document.createElement("canvas");t.classList.add("pge-draw-area"),t.height=2*document.body.scrollHeight,t.width=2*document.body.scrollWidth;const n=`position: absolute; top: 0; left: 0; right: 0; bottom: 0; height: ${document.body.scrollHeight}px; width: ${document.body.scrollWidth}px;`;t.style.cssText=n,document.body.appendChild(t);const o=t.getContext("2d");null==o||o.scale(2,2);const d={x:0,y:0};let s=!1;const i=()=>{null==o||o.closePath(),s=!1,d.x=0,d.y=0};t.addEventListener("mousedown",(()=>{null==o||o.beginPath(),s=!0})),t.addEventListener("mouseup",i),t.addEventListener("mouseout",i),t.addEventListener("mousemove",(e=>{((e,n)=>{if(!s||!o)return;o.lineCap="round",o.lineJoin="round",o.lineWidth=2,o.strokeStyle="black";const i=t.getBoundingClientRect(),l=i.left+window.pageXOffset,a=i.top+window.pageYOffset,r=t.width/i.width,c=t.height/i.height;d.x=(e-l)*r,d.y=(n-a)*c,o.lineTo(d.x/2,d.y/2),o.stroke()})(e.pageX,e.pageY)}))}))})();